<svg width="1100" height="520" viewBox="0 0 1100 520" xmlns="http://www.w3.org/2000/svg" font-family="Helvetica, Arial, sans-serif">

  <!-- Arrow definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L9,3 L0,6 Z" fill="#333"></path>
    </marker>
  </defs>

  <!-- Camera -->
  <rect x="40" y="210" width="200" height="90" rx="10" fill="#e3f2fd" stroke="#1e88e5"></rect>
  <text x="140" y="245" text-anchor="middle" font-size="14" font-weight="bold">
    NAO Camera
  </text>
  <text x="140" y="265" text-anchor="middle" font-size="12">
    ALVideoDevice
  </text>

  <!-- Vision -->
  <rect x="300" y="80" width="260" height="140" rx="12" fill="#e8f5e9" stroke="#43a047"></rect>
  <text x="430" y="110" text-anchor="middle" font-size="14" font-weight="bold">
    Vision &amp; Perception
  </text>
  <text x="430" y="135" text-anchor="middle" font-size="12">
    Red Ball Detection
  </text>
  <text x="430" y="155" text-anchor="middle" font-size="12">
    Landmark Detection
  </text>
  <text x="430" y="175" text-anchor="middle" font-size="12">
    (OpenCV + NAOqi)
  </text>

  <!-- Pose Estimation -->
  <rect x="300" y="270" width="260" height="120" rx="12" fill="#fff8e1" stroke="#f9a825"></rect>
  <text x="430" y="300" text-anchor="middle" font-size="14" font-weight="bold">
    Relative Pose Estimation
  </text>
  <text x="430" y="325" text-anchor="middle" font-size="12">
    Distance / Angle
  </text>
  <text x="430" y="345" text-anchor="middle" font-size="12">
    Target Localization
  </text>

  <!-- State Machine -->
  <rect x="620" y="160" width="300" height="200" rx="14" fill="#f3e5f5" stroke="#8e24aa"></rect>
  <text x="770" y="195" text-anchor="middle" font-size="15" font-weight="bold">
    Decision Logic
  </text>
  <text x="770" y="220" text-anchor="middle" font-size="12">
    Finite State Machine
  </text>
  <text x="770" y="245" text-anchor="middle" font-size="12">
    SEARCH → ALIGN → APPROACH
  </text>
  <text x="770" y="265" text-anchor="middle" font-size="12">
    VERIFY → ACTION
  </text>

  <!-- Motion -->
  <rect x="980" y="200" width="260" height="120" rx="12" transform="translate(-180,0)" fill="#e1f5fe" stroke="#0288d1"></rect>
  <text x="910" y="230" text-anchor="middle" font-size="14" font-weight="bold">
    Motion Control
  </text>
  <text x="910" y="255" text-anchor="middle" font-size="12">
    Walking / Head Motion
  </text>
  <text x="910" y="275" text-anchor="middle" font-size="12">
    Kick / Hit Action
  </text>
  <text x="910" y="295" text-anchor="middle" font-size="12">
    ALMotion / ALRobotPosture
  </text>

  <!-- Arrows -->
  <line x1="240" y1="255" x2="300" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrow)"></line>
  <line x1="240" y1="255" x2="300" y2="330" stroke="#333" stroke-width="2" marker-end="url(#arrow)"></line>

  <line x1="560" y1="150" x2="620" y2="230" stroke="#333" stroke-width="2" marker-end="url(#arrow)"></line>
  <line x1="560" y1="330" x2="620" y2="270" stroke="#333" stroke-width="2" marker-end="url(#arrow)"></line>

  <line x1="920" y1="260" x2="800" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrow)"></line>

</svg>
